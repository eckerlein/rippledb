---
title: API Reference
description: Complete API documentation for all Converge packages
---

import { Cards, Card } from 'fumadocs-ui/components/card';
import { Diagram } from '@/components/diagram';

# API Reference

Complete API documentation for all Converge packages.

## Core Packages

<Cards>
  <Card 
    title="@converge/core" 
    description="HLC timestamps, Change types, and pure merge logic"
    href="/docs/reference/core"
  />
  <Card 
    title="@converge/server" 
    description="Db interface and server contracts"
    href="/docs/reference/server"
  />
  <Card 
    title="@converge/client" 
    description="Client-side sync orchestration"
    href="/docs/reference/client"
  />
  <Card 
    title="@converge/remote-http" 
    description="HTTP transport for client-server sync"
    href="/docs/reference/remote-http"
  />
</Cards>

## Package Overview

| Package | Depends On | Purpose |
|---------|------------|---------|
| `@converge/core` | nothing | HLC, Change types, merge helpers |
| `@converge/server` | core | Db interface for server persistence |
| `@converge/client` | core | Store interface, sync orchestration |
| `@converge/remote-http` | client | HTTP transport layer |
| `@converge/db-*` | server | Database adapters |
| `@converge/materialize-*` | core | State materializers |
| `@converge/store-*` | client | Client-side stores |

## Dependency Rules

The dependency graph is strictly enforced:

<Diagram
  height={300}
  nodes={[
    { id: 'core', x: 220, y: 10, label: ['core', '(pure logic)'] },
    { id: 'server', x: 60, y: 110, label: ['server', '(Db interface)'] },
    { id: 'client', x: 220, y: 110, label: ['client', '(Store/Sync)'] },
    { id: 'materialize', x: 380, y: 110, label: ['materialize', '(projectors)'] },
    { id: 'db', x: 60, y: 210, label: ['db-*', '(adapters)'] },
    { id: 'store', x: 220, y: 210, label: ['store-*', '(adapters)'] },
  ]}
  edges={[
    { from: 'core', to: 'server', orthogonal: true },
    { from: 'core', to: 'client', orthogonal: true },
    { from: 'core', to: 'materialize', orthogonal: true },
    { from: 'server', to: 'db', orthogonal: true },
    { from: 'client', to: 'store', orthogonal: true },
  ]}
/>

- `core` depends on **nothing**
- `server` and `client` depend only on `core`
- `db-*` adapters depend on `server`
- `store-*` adapters depend on `client`
- `materialize-*` depend on `core`

## Type Safety

All packages export TypeScript types. Use the `ConvergeSchema` generic for type-safe changes:

```ts
type MySchema = {
  todos: { id: string; title: string; done: boolean };
  users: { id: string; name: string; email: string };
};

// Now all methods are typed
const db = new SqliteDb<MySchema>({ filename: './data.db' });
```
